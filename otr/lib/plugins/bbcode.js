var dsRTE_bbCode=function(){this.frombbcode=new Array(/\[img\](.*?)=\1\[\/img\]/,/\[email\](([a-z0-9&\-_.]+?)@([\w\-]+\.([\w\-\.]+\.)?[\w]+))\[\/email\]/,/\[url\](http:\/\/[^ \\"\n\r\t<]*?)\[\/url\]/,/\[b\](.*?)\[\/b\]/,/\[u\](.*?)\[\/u\]/,/\[i\](.*?)\[\/i\]/);this.tohtml=new Array('<img src="$1" alt="" />','<a href="mailto:$1">$1</a>','<a href="$1">$1</a>','<span style="font-weight: bold;">$1</span>','<span style="text-decoration: underline;">$1</span>','<span style="font-style: italic;">$1</span>');this.fromhtml=new Array(/<img.*?src=\"(.*?)\".*?>/,/<a.*?href=\"mailto:(.*?)\".*?>(.*?)<\/a>/,/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/,/<span style=\"font-weight:\s*bold;?\">(.*?)<\/span>/,/<b>(.*?)<\/b>/,/<span style=\"text-decoration:\s*underline;?\">(.*?)<\/span>/,/<u>(.*?)<\/u>/,/<span style=\"font-style:\s*italic;?\">(.*?)<\/span>/,/<i>(.*?)<\/i>/);this.tobbcode=new Array("[img]$1[/img]","[email]$1[/email]","[url=$1]$2[/url]","[b]$1[/b]","[b]$1[/b]","[u]$1[/u]","[u]$1[/u]","[i]$1[/i]","[i]$1[/i]");this.OnLoad=function(A){return this.helper(A,this.frombbcode,this.tohtml)};this.OnSubmit=function(A){return this.helper(A,this.fromhtml,this.tobbcode)};this.helper=function(A,D,C){var B=A.getDoc();for(i=0;i<D.length;i++){B=B.replace(D[i],C[i])}A.setDoc(B);return true}};dsRTE.RegisterPlugin(new dsRTE_bbCode(),"bbcode");
